<script setup lang="ts">
import { HomeExperience } from "~/experiences/home";

const experience = new HomeExperience();
const isFreeCamera = useState<boolean>("isFreeCamera");

const onPress = () => {
	if (!experience?.cameraAnimation) return;
	if (!isFreeCamera.value) return experience.cameraAnimation.disable();
	if (isFreeCamera.value) return experience.cameraAnimation.enable();
};
</script>

<template>
	<button
		@pointerup="onPress"
		:title="`${isFreeCamera ? 'Enable' : 'Disable'} Free Camera`"
	>
		<svg v-if="!isFreeCamera" viewBox="0 0 23 15" fill="none" class="">
			<path
				fill-rule="evenodd"
				clip-rule="evenodd"
				d="M11.9844 1.35488H3.99479C2.61588 1.35488 1.49805 2.27196 1.49805 3.40325V11.5967C1.49805 12.728 2.61588 13.6451 3.99479 13.6451H11.9844C13.3633 13.6451 14.9805 12.728 14.9805 11.5967V3.40325C14.9805 2.27196 13.3633 1.35488 11.9844 1.35488ZM3.99479 0.12585C1.78853 0.12585 0 1.59319 0 3.40325V11.5967C0 13.4068 1.78853 14.8741 3.99479 14.8741H11.9844C14 14.8741 16.4785 13.4402 16.4785 11.7349V3.26506C16.4785 1.76471 14 0.12585 11.9844 0.12585H3.99479Z"
				fill="#F4F7F5"
			/>
			<path
				fill-rule="evenodd"
				clip-rule="evenodd"
				d="M21.502 1.55982L16.4785 3.26506V11.7349L21.472 13.4402L21.502 1.55982ZM15.7329 12.7941L21.442 14.8741C22.1072 15.2152 22.97 14.8229 22.97 14.1793L23 0.82066C23 0.177114 22.1372 -0.215227 21.472 0.125853L15.7329 2.20588V12.7941Z"
				fill="#F4F7F5"
			/>
		</svg>

		<svg
			viewBox="0 0 20 32"
			fill="none"
			class="w-full h-full"
			v-if="isFreeCamera"
		>
			<path
				fill-rule="evenodd"
				clip-rule="evenodd"
				d="M8.03117 5.03296C7.80907 5.51303 7.58918 5.98834 7.38458 6.32944C7.3368 6.40908 7.28483 6.49795 7.2285 6.59426C6.82776 7.27949 6.20634 8.34204 5.30577 9.14702C5.00402 9.41675 4.66893 9.65981 4.2991 9.85694L14.203 19.7608C14.6203 20.1781 14.7701 20.7477 14.694 21.2804C14.6116 21.8573 14.2128 22.3731 13.6657 22.5711L11.1145 23.6644L12.8847 27.9691L12.89 27.9837C13.1983 28.8316 12.835 29.834 11.9591 30.1887L9.02914 31.4174L8.9737 31.4313C8.70119 31.4994 8.538 31.5002 8.37344 31.5002C7.71625 31.5002 7.05512 31.1003 6.79403 30.425L4.99139 26.1388L2.29128 27.2036L2.20411 27.2161L2.09805 26.4736C2.20411 27.2161 2.20424 27.216 2.20411 27.2161L2.203 27.2162L2.20164 27.2164L2.19819 27.2169L2.18842 27.2182L2.15802 27.222C2.13323 27.2249 2.09931 27.2286 2.05841 27.2323C1.97764 27.2394 1.86456 27.2468 1.73779 27.2468C1.61353 27.2468 1.45983 27.2398 1.30278 27.2125C1.1558 27.1869 0.9462 27.1339 0.752335 27.0047C0.25496 26.6731 0 26.1545 0 25.5904V9.69272C0 9.03041 0.406102 8.36409 1.09095 8.10727C1.74049 7.8637 2.46862 8.02646 2.95377 8.51161L3.16346 8.7213C3.59853 8.57328 3.97328 8.32619 4.30613 8.02867C5.01629 7.39388 5.51105 6.55347 5.92241 5.85474C5.98267 5.75237 6.04114 5.65305 6.09824 5.55786C6.25806 5.29141 6.43902 4.9009 6.66916 4.40427C6.70163 4.33421 6.73507 4.26203 6.76958 4.18779C7.03716 3.61206 7.35351 2.94732 7.72345 2.33056C8.08988 1.71966 8.53728 1.10657 9.08772 0.663874C9.65292 0.209305 10.3603 -0.0890321 11.1899 0.0240021C11.9242 0.124036 12.5851 0.470882 13.1525 0.813119C13.3786 0.949528 13.5843 1.08097 13.7814 1.20689C14.123 1.42518 14.4387 1.62683 14.7893 1.80888C15.3095 2.0789 15.7756 2.22765 16.2412 2.21136C16.6924 2.19558 17.2346 2.02123 17.9016 1.47171C18.2213 1.20835 18.694 1.25402 18.9574 1.57372C19.2208 1.89342 19.1751 2.3661 18.8554 2.62946C17.9876 3.34436 17.1382 3.6809 16.2936 3.71045C15.4635 3.73949 14.7297 3.468 14.0982 3.14017C13.6936 2.93012 13.2713 2.66122 12.8904 2.41876C12.7078 2.30245 12.5347 2.19223 12.3776 2.09751C11.8424 1.77463 11.4017 1.56671 10.9874 1.51027C10.6686 1.46684 10.3626 1.56343 10.0278 1.83275C9.67816 2.11394 9.33877 2.55368 9.0098 3.10213C8.68435 3.64471 8.39671 4.24582 8.12984 4.82001C8.09693 4.89082 8.06402 4.96194 8.03117 5.03296ZM1.5 10.3135V25.5904C1.5 25.6209 1.50351 25.6438 1.5081 25.6609L1.9919 25.7092L5.80549 24.2053L8.1873 29.8687L8.19248 29.8825C8.20254 29.9093 8.22376 29.9388 8.26071 29.9634C8.29934 29.9892 8.34141 30.0002 8.37344 30.0002C8.44798 30.0002 8.4726 29.9997 8.49729 29.9974C8.51034 29.9962 8.5292 29.994 8.56012 29.9875L11.3953 28.7986C11.4223 28.7878 11.4565 28.7613 11.4797 28.7049C11.5018 28.6509 11.508 28.5806 11.4839 28.5067L9.16515 22.8679L13.127 21.17L13.1523 21.1616C13.1544 21.1602 13.1641 21.154 13.1769 21.1383C13.1957 21.115 13.2062 21.0889 13.2091 21.0683C13.226 20.9503 13.1899 20.869 13.1423 20.8215L2.67196 10.3511C2.3046 10.3865 1.91419 10.3772 1.5 10.3135Z"
				fill="#F4F7F5"
			/>
		</svg>
	</button>
</template>
